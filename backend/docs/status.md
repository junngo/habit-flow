# 상태 관리 문서

## 1. 출석 상태 (Habit Attendance)

### 상태 설명
| 상태        | 의미          | 설명                                                                          |
|-------------|---------------|-------------------------------------------------------------------------------|
| `INITIAL`   | 초기 상태     | 습관 생성 시 자동으로 설정됩니다. 유저가 출석하거나 타이머를 시작하면 상태가 변경됩니다. |
| `IN_PROGRESS`| 진행 중       | 타이머 습관에서 출석을 시작하면 설정됩니다. 유저가 "종료"를 누르면 `SUCCESS`로 변경됩니다. |
| `SUCCESS`   | 출석 성공     | 출석이 성공적으로 완료되었을 때 자동으로 설정됩니다.                            |
| `FAILED`    | 출석 실패     | 출석 기한이 초과되었을 때 자동으로 설정됩니다.                                   |
| `SKIPPED`   | 출석 스킵     | 유저가 해당 날의 출석을 명시적으로 스킵했을 때 설정됩니다.                        |

### 상태 변경 흐름
1. **`INITIAL` → `IN_PROGRESS`**
   - 타이머 시작 또는 출석 버튼 클릭 시.

2. **`IN_PROGRESS` → `SUCCESS`**
   - 유저가 타이머 종료 또는 출석 성공 시.

3. **`IN_PROGRESS` 또는 `INITIAL` → `FAILED`**
   - 출석 기한 초과 시.

4. **`INITIAL` → `SKIPPED`**
   - 유저가 명시적으로 출석을 스킵했을 때.

---

## 2. 습관 관리 상태 (Habits)

### 상태 설명
| 상태         | 의미          | 설명                                                                         |
|--------------|---------------|------------------------------------------------------------------------------|
| `PENDING`    | 대기 중        | 습관이 시작되기 전 상태입니다.                                                |
| `IN_PROGRESS`| 진행 중        | 습관이 현재 진행 중인 상태입니다.                                             |
| `COMPLETED`  | 완료/성공      | 습관이 성공적으로 종료된 상태입니다.                                          |
| `FAILED`     | 실패           | 습관이 실패로 종료된 상태입니다.                                             |
| `SCHEDULED`  | 일정 관리만    | 성공/실패를 기록하지 않고, 일정 관리만 필요한 경우 설정됩니다.                  |

### 상태 변경 흐름
1. **`PENDING` → `IN_PROGRESS`**
   - 습관이 시작되었을 때.

2. **`IN_PROGRESS` → `COMPLETED`**
   - 습관이 성공적으로 완료되었을 때.

3. **`IN_PROGRESS` 또는 `PENDING` → `FAILED`**
   - 습관 종료 시점까지 완료되지 않았을 때.

4. **`PENDING` → `SCHEDULED`**
   - 단순 일정 관리용 습관일 경우.

---

### 참고
- **`Habit Attendance`**는 개별 출석 이벤트를 관리합니다.
- **`Habits`**는 전체 습관의 상태를 관리하며, 진행 상황이나 일정 관리 상태를 포함합니다.
